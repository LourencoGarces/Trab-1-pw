<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap MockupTodos Telemoveis</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/Scripts/MockUpProdutos.js"></script>

</head>

<body>
    <div class="container">
        <div class="row" id="categoria3">
        </div>
    </div>
<script>
   
function carregaMockupTelemoveis(titulo, detalhe, elemento){
    document.getElementById("mtitulo").innerHTML=titulo;
    document.getElementById("mdetalhe").innerHTML=detalhe;
    document.getElementById("mImagem").src 
=elemento.parentNode.parentNode.firstElementChild.getAttribute("src")
    console.log(elemento.parentNode.parentNode.firstElementChild.getAttribute("src"))
  }

  const isImageUrl = (url) => {
    return(url.match(/\.(jpeg|jpg|gif|png)$/) != null);
};

const atualizarMockupTelemoveis = async (categoria3) => {
    let strHtml = ``;
    const response = await fetch('Telemoveis.json');
    const lv = await response.json();
    for (const artigo of lv) {
        const artigoSemUndefined = Object.fromEntries(
            Object.entries(artigo).filter(([_, v]) => v !== undefined)
        );

        // Verifica se há imagens definidas e se são URLs de imagem válidas antes de renderizar a tag <div> da coluna
        if ((artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE)) || 
            (artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1)) || 
            (artigoSemUndefined.Titulo && isImageUrl(artigoSemUndefined.Titulo)) || 
            (artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD))||
            (artigoSemUndefined.Telemoveis && isImageUrl(artigoSemUndefined.Telemoveis))||
            (artigoSemUndefined.Huawei && isImageUrl(artigoSemUndefined.Huawei))||
            (artigoSemUndefined.Iphone && isImageUrl(artigoSemUndefined.Iphone))||
            (artigoSemUndefined.GooglePixel && isImageUrl(artigoSemUndefined.GooglePixel))||
            (artigoSemUndefined.Recondicionados&& isImageUrl(artigoSemUndefined.Recondicionados))||
            (artigoSemUndefined.Samsung&& isImageUrl(artigoSemUndefined.Samsung))||
            (artigoSemUndefined.Xiaomi&& isImageUrl(artigoSemUndefined.Xiaomi))||
            (artigoSemUndefined.Detalhe1)||
            (artigoSemUndefined.Detalhe2)||
            (artigoSemUndefined.Detalhe3)||
            (artigoSemUndefined.Detalhe4)||
            (artigoSemUndefined.Detalhe5)||
            (artigoSemUndefined.Detalhe6)||
            (artigoSemUndefined.PolignoB && isImageUrl(artigoSemUndefined.PolignoB)))
            {
            
            strHtml += `
            <div class="col-md-2"><a href="Index.html">
                    ${artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE) ? `<img src="${artigoSemUndefined.PolignoE}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1) ? `<img src="${artigoSemUndefined.Titulo1}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD) ? `<img src="${artigoSemUndefined.PolignoD}" class="img-fluid">` : ''}
                    </a>
                    </div>
                    <div class="col-md-5">
                        ${artigoSemUndefined.Telemoveis && isImageUrl(artigoSemUndefined.Telemoveis) ? `<img src="${artigoSemUndefined.Telemoveis}" class="img-fluid">` : ''}
                </div>
                <div class="col-md-2"><a href="Index.html">
                    ${artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE) ? `<img src="${artigoSemUndefined.PolignoE}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1) ? `<img src="${artigoSemUndefined.Titulo1}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD) ? `<img src="${artigoSemUndefined.PolignoD}" class="img-fluid">` : ''}
                    </a>
                    </div>
                <div class="col-md-1">
                    ${artigoSemUndefined.Huawei && isImageUrl(artigoSemUndefined.Huawei ) ? `<img src="${artigoSemUndefined.Huawei }" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Iphone && isImageUrl(artigoSemUndefined.Iphone) ? `<img src="${artigoSemUndefined.Iphone}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.GooglePixel && isImageUrl(artigoSemUndefined.GooglePixel) ? `<img src="${artigoSemUndefined.GooglePixel}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Recondicionados && isImageUrl(artigoSemUndefined.Recondicionados) ? `<img src="${artigoSemUndefined.Recondicionados}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Samsung && isImageUrl(artigoSemUndefined.Samsung) ? `<img src="${artigoSemUndefined.Samsung}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Xiaomi && isImageUrl(artigoSemUndefined.Xiaomi) ? `<img src="${artigoSemUndefined.Xiaomi}" class="img-fluid">` : ''}
                    </div>
                    <div class="col-md-1">
                        ${artigoSemUndefined.Detalhe1 ? `<p>${artigoSemUndefined.Detalhe1}</p>` : ''}
                        ${artigoSemUndefined.Detalhe2 ? `<p>${artigoSemUndefined.Detalhe2}</p>` : ''}
                        ${artigoSemUndefined.Detalhe3 ? `<p>${artigoSemUndefined.Detalhe3}</p>` : ''}
                        ${artigoSemUndefined.Detalhe4 ? `<p>${artigoSemUndefined.Detalhe4}</p>` : ''}
                        ${artigoSemUndefined.Detalhe5 ? `<p>${artigoSemUndefined.Detalhe5}</p>` : ''}
                        ${artigoSemUndefined.Detalhe6 ? `<p>${artigoSemUndefined.Detalhe6}</p>` : ''}
                    </div>
                    
            `;
        }
    }

    document.getElementById("categoria3").innerHTML = strHtml;
}


atualizarMockupTelemoveis();
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>