<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bootstrap MockupTodos os produtos</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/Scripts/MockUpProdutos.js"></script>

</head>

<body>
    <div class="container">
        <div class="row" id="categoria">
        </div>
    </div>
    <script>

        function carregaMockupAirpods(titulo, detalhe, elemento) {
            document.getElementById("mtitulo").innerHTML = titulo;
            document.getElementById("mdetalhe").innerHTML = detalhe;
            document.getElementById("mImagem").src
                = elemento.parentNode.parentNode.firstElementChild.getAttribute("src")
            console.log(elemento.parentNode.parentNode.firstElementChild.getAttribute("src"))
        }

        const isImageUrl = (url) => {
            return (url.match(/\.(jpeg|jpg|gif|png)$/) != null);
        };

        const atualizarMockupAirpods = async (categoria) => {
            let strHtml = ``;
            const response = await fetch('Airpods.json');
            const lv = await response.json();
            for (const artigo of lv) {
                const artigoSemUndefined = Object.fromEntries(
                    Object.entries(artigo).filter(([_, v]) => v !== undefined)
                );

                // Verifica se há imagens definidas e se são URLs de imagem válidas antes de renderizar a tag <div> da coluna
                if ((artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE)) ||
                    (artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1)) ||
                    (artigoSemUndefined.Titulo && isImageUrl(artigoSemUndefined.Titulo)) ||
                    (artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD)) ||
                    (artigoSemUndefined.Airpods && isImageUrl(artigoSemUndefined.Airpods)) ||
                    (artigoSemUndefined.AppleAirPods && isImageUrl(artigoSemUndefined.AppleAirPods)) ||
                    (artigoSemUndefined.AuricularesGooglePixel && isImageUrl(artigoSemUndefined.AuricularesGooglePixel)) ||
                    (artigoSemUndefined.AuricularesSony && isImageUrl(artigoSemUndefined.AuricularesSony)) ||
                    (artigoSemUndefined.HuaweiFreebuds && isImageUrl(artigoSemUndefined.HuaweiFreebuds)) ||
                    (artigoSemUndefined.SamsungGalaxyBuds && isImageUrl(artigoSemUndefined.SamsungGalaxyBuds)) ||
                    (artigoSemUndefined.XiaomiAirbuds && isImageUrl(artigoSemUndefined.XiaomiAirbuds)) ||
                    (artigoSemUndefined.Detalhe1) ||
                    (artigoSemUndefined.Detalhe2) ||
                    (artigoSemUndefined.Detalhe3) ||
                    (artigoSemUndefined.Detalhe4) ||
                    (artigoSemUndefined.Detalhe5) ||
                    (artigoSemUndefined.Detalhe6) ||
                    (artigoSemUndefined.PolignoB && isImageUrl(artigoSemUndefined.PolignoB))) {

                    strHtml += `
            <div class="col-md-2"><a href="Index.html">
                    ${artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE) ? `<img src="${artigoSemUndefined.PolignoE}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1) ? `<img src="${artigoSemUndefined.Titulo1}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD) ? `<img src="${artigoSemUndefined.PolignoD}" class="img-fluid">` : ''}
                    </a>
                    </div>
                    <div class="col-md-5">
                        ${artigoSemUndefined.Airpods && isImageUrl(artigoSemUndefined.Airpods) ? `<img src="${artigoSemUndefined.Airpods}" class="img-fluid">` : ''}
                </div>
                <div class="col-md-2"><a href="Index.html">
                    ${artigoSemUndefined.PolignoE && isImageUrl(artigoSemUndefined.PolignoE) ? `<img src="${artigoSemUndefined.PolignoE}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.Titulo1 && isImageUrl(artigoSemUndefined.Titulo1) ? `<img src="${artigoSemUndefined.Titulo1}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.PolignoD && isImageUrl(artigoSemUndefined.PolignoD) ? `<img src="${artigoSemUndefined.PolignoD}" class="img-fluid">` : ''}
                    </a>
                    </div>
                <div class="col-md-1">
                        ${artigoSemUndefined.AppleAirPods && isImageUrl(artigoSemUndefined.AppleAirPods) ? `<img src="${artigoSemUndefined.AppleAirPods}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.AuricularesGooglePixel && isImageUrl(artigoSemUndefined.AuricularesGooglePixel) ? `<img src="${artigoSemUndefined.AuricularesGooglePixel}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.AuricularesSony && isImageUrl(artigoSemUndefined.AuricularesSony) ? `<img src="${artigoSemUndefined.AuricularesSony}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.HuaweiFreebuds && isImageUrl(artigoSemUndefined.HuaweiFreebuds) ? `<img src="${artigoSemUndefined.HuaweiFreebuds}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.SamsungGalaxyBuds && isImageUrl(artigoSemUndefined.SamsungGalaxyBuds) ? `<img src="${artigoSemUndefined.SamsungGalaxyBuds}" class="img-fluid">` : ''}
                    ${artigoSemUndefined.XiaomiAirbuds && isImageUrl(artigoSemUndefined.XiaomiAirbuds) ? `<img src="${artigoSemUndefined.XiaomiAirbuds}" class="img-fluid">` : ''}
                    </div>
                    <div class="col-md-1">
                        ${artigoSemUndefined.Detalhe1 ? `<p>${artigoSemUndefined.Detalhe1}</p>` : ''}
                        ${artigoSemUndefined.Detalhe2 ? `<p>${artigoSemUndefined.Detalhe2}</p>` : ''}
                        ${artigoSemUndefined.Detalhe3 ? `<p>${artigoSemUndefined.Detalhe3}</p>` : ''}
                        ${artigoSemUndefined.Detalhe4 ? `<p>${artigoSemUndefined.Detalhe4}</p>` : ''}
                        ${artigoSemUndefined.Detalhe5 ? `<p>${artigoSemUndefined.Detalhe5}</p>` : ''}
                        ${artigoSemUndefined.Detalhe6 ? `<p>${artigoSemUndefined.Detalhe6}</p>` : ''}
                    </div>
                    
            `;
                }
            }

            document.getElementById("categoria").innerHTML = strHtml;
        }


        atualizarMockupAirpods();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>